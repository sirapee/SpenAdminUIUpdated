
<ngx-spinner
  bdColor="rgba(0,0,0,0.5)"
  size="medium"
  color="#d81616"
  type="ball-pulse"
  [fullScreen]="true"
></ngx-spinner>

<div class="col-lg-6 stretched_card mt-mob-4">
    <div class="">
      <div class="">
        <div class="modal fade bd-example-modal-lggggg">
          <div class="modal-dialog modal-lg">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title">Cross-Currency</h5>
                <button type="button" class="close" data-dismiss="modal">
                  <span>&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <form [formGroup]="transactionForm">
                    <div class="row">
                      <div class="col-md-6">
                        <div class="form-group">
                          <label>Debit Wallet Number</label>
                          <input [(ngModel)]="walletNumber" formControlName="debitWalletNumber" class="form-control" (blur)="getWallet()"/>
                          <p *ngIf="walletBalances" style="font-weight: bold;">{{walletName}}<span style="margin-left: 20%;"> Balance: {{walletBalance}}</span></p> 
                          <!-- <div *ngIf="transactionForm.get('debitWalletNumber')?.hasError('required') && transactionForm.get('debitWalletNumber')?.touched">
                            <div class="text-danger">Debit Wallet Number is required.</div>
                          </div>
                          <div *ngIf="transactionForm.get('debitWalletNumber')?.hasError('pattern') && transactionForm.get('debitWalletNumber')?.touched">
                            <div class="text-danger">Invalid input. Please enter only digits.</div>
                          </div>
                          <div *ngIf="transactionForm.get('debitWalletNumber')?.hasError('maxlength') && transactionForm.get('debitWalletNumber')?.touched">
                            <div class="text-danger">Maximum length allowed is 11 digits.</div>
                          </div> -->
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-group">
                          <label>Credit Wallet Number</label>
                          <input [(ngModel)]="creditWallet" formControlName="creditWalletNumber" class="form-control" (blur)="getCreditWallet()"/>
                          <p style="font-weight: bold;">{{creditWalletName}}</p>
                          <!-- <div *ngIf="transactionForm.get('creditWalletNumber')?.hasError('required') && transactionForm.get('creditWalletNumber')?.touched">
                            <div class="text-danger">Credit Wallet Number is required.</div>
                          </div>
                          <div *ngIf="transactionForm.get('creditWalletNumber')?.hasError('pattern') && transactionForm.get('creditWalletNumber')?.touched">
                            <div class="text-danger">Invalid input. Please enter only digits.</div>
                          </div>
                          <div *ngIf="transactionForm.get('creditWalletNumber')?.hasError('maxlength') && transactionForm.get('creditWalletNumber')?.touched">
                            <div class="text-danger">Maximum length allowed is 11 digits.</div>
                          </div> -->
                        </div>
                      </div>
                    </div>

                    <div class="row">
                      <div class="col-md-6">
                        <div class="form-group">
                          <label>Transaction Amount</label>
                          <input formControlName="transactionAmount" class="form-control" />
                          <!-- <div *ngIf="transactionForm.get('transactionAmount')?.hasError('required') && transactionForm.get('transactionAmount')?.touched">
                            <div class="text-danger">Transaction Amount is required.</div>
                          </div>
                          <div *ngIf="transactionForm.get('transactionAmount')?.hasError('pattern') && transactionForm.get('transactionAmount')?.touched">
                            <div class="text-danger">Invalid input. Please enter only digits.</div>
                          </div> -->
                        </div>
                      </div>
                        <div class="col-md-6">
                          <div class="form-group">
                            <label>Charge Amount</label>
                            <input formControlName="chargeAmount" class="form-control" />
                          </div>
                        </div>
                      </div>

                      <div class="row">
                        <div class="col-md-6">
                          <div class="form-group">
                            <label>Transaction Currency</label>
                            <input [(ngModel)]="walletCurrency" formControlName="transactionCurrency" class="form-control" readonly/>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="form-group">
                            <label>Rate</label>
                            <input [(ngModel)]="rate" formControlName="rate" class="form-control"/>
                          </div>
                        </div>
                      </div>
                    
                    
                  
                    <div class="form-group">
                      <label>Narration</label>
                      <textarea formControlName="narration" class="form-control"></textarea>
                      <!-- <div *ngIf="transactionForm.get('narration')?.hasError('required') && transactionForm.get('narration')?.touched">
                        <div class="text-danger">Narration is required.</div>
                      </div>
                      <div *ngIf="transactionForm.get('narration')?.hasError('pattern') && transactionForm.get('narration')?.touched">
                        <div class="text-danger">Invalid input. Please enter only letters and spaces.</div>
                      </div> -->
                    </div>
                  
             
                  </form>
                  
             </div>
              <div class="modal-footer">
                <button
                [disabled]="transactionForm.invalid || !isFormValid"
                  type="button"
                 (click)="submit()"
                  class="btn btn-primary"       
                >
                  Submit transaction
                </button>
                <button
                  type="button"
                  class="btn btn-light btn-close"
                  data-dismiss="modal"
                >
                  Close
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  